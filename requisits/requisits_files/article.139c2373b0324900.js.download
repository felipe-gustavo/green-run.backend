$(document).ready(function(){var app=new Vue({el:'#app',data:{'authObject':window.__authObject,'thisQuesInfo':window.__thisQuesInfo,'metaQues':window.__metaQues,'publishDate':window.__thisQuesInfo.Date?window.__thisQuesInfo.Date.replace(/-/g,'/'):'N/A','bestVotes':window.__bestVotes,'loggedIn':!1,'errorViewing':!1,'postingComment':!1,'submitButtonDisabled':!1,'isProject':!1,'isArchived':!1,},created:function(){setTimeout(function(){highlightCodeSnippetsOnPage(null,!0)},0);if(this.authObject&&this.authObject.username){this.loggedIn=!0}
if(this.thisQuesInfo.pageType==='question'&&this.metaQues&&this.metaQues.archived){this.isArchived=!0}
if(this.metaQues&&this.metaQues.is_project){this.isProject=!0;this.thisQuesInfo.pageType='project';if(this.metaQues.do_not_show){this.errorViewing=!0}
if(!this.metaQues.do_not_show&&window.location.href.indexOf('__showAll=true')===-1){var viewUser=null;if(window.location.hash){var hashId=window.location.hash.substr(1);viewUser=hashId.replace('comment_','')}
var submissions=[];for(var i=0;i<this.bestVotes.length;i++){var thisSub=this.bestVotes[i];if((thisSub.thisAnsInfoAuthor===this.authObject.username)||(thisSub.thisAnsInfoAuthor===viewUser)){submissions.push(thisSub)}}
this.bestVotes=submissions}
if(this.metaQues.previewing){var getPreviewObject=localStorage.getItem('__previewChallenge');if(getPreviewObject){getPreviewObject=JSON.parse(getPreviewObject);this.thisQuesInfo.Title=getPreviewObject.title;this.thisQuesInfo.cut=getPreviewObject.content;this.submitButtonDisabled=!0}}}},mounted:function(){this.scrollToComment()},methods:{scrollToComment:function(){setTimeout(function(){if(window.location.hash){var hashId=window.location.hash.substr(1);if($('#'+hashId)[0]){$('#'+hashId).css({'background':'#fffae8'});$('html, body').animate({scrollTop:$('#'+hashId).offset().top-100},500,'linear')}}},500)},validateGithubRunLink:function(githubUrl){var repoPart=githubUrl.replace('https://github.com/','');var githubParts=repoPart.split('/');if(githubParts.length>=2){return!0}
return!1},generateRunLink:function(githubUrl){var base='https://repl.it/github/';var repoPart=githubUrl.replace('https://github.com/','');var githubParts=repoPart.split('/');return base+githubParts[0]+'/'+githubParts[1]},submitVote:function(thisVoteObj,indexOfVote,whatVote){if(this.pageType==='question')return;var that=this;var _copy=thisVoteObj;var username=this.authObject.username;var commentId=thisVoteObj.thisAnsInfoId;var posOrNeg=(whatVote===1)?'pos':'neg';if(!username)return;$.post('/backend/requests/article/modify_votes.php',{username:username,whichVote:posOrNeg,quesid:commentId,pageType:that.thisQuesInfo.pageType,},function(data){if(data!==''){_copy.value=data;if(whatVote===1){_copy.user_vote_pos=!_copy.user_vote_pos;_copy.user_vote_neg=!1}else{_copy.user_vote_neg=!_copy.user_vote_neg;_copy.user_vote_pos=!1}
that.$set(that.bestVotes,indexOfVote,_copy)}})},postComment:function(){var that=this;var username=this.authObject.username;var quesId=this.thisQuesInfo.ID;var commentText=$('#answer_text_area_actual').val();var githubUrl=this.isProject?$('.githubUrl').val():'';var pageType=this.thisQuesInfo.pageType;if(commentText==='<p>Use the button at the top to add a code snippet, or simply paste in a URL here.</p>'||commentText==='<p><br></p>'||commentText==='<p></p>'){alert('Please actually write something before submitting.');return}
if(githubUrl!==''&&githubUrl.indexOf('https://github.com')===-1){alert('Please enter a proper Github URL, e.g. https://github.com/facebook/react or remove the URL.');return}
if(this.postingComment)return;if(!username)return;var r=confirm("Are you sure you want to post this answer? You will not be able to edit it afterwards.");if(!r)return;this.postingComment=!0;$.post('/backend/requests/article/post_comment.php',{username:username,quesid:quesId,pageType:pageType,commentText:commentText,githubUrl:githubUrl,urlToComment:window.location.href+'#comment_'+username,},function(data){if(data){console.log(data);window.location.hash='#comment_'+username;window.location.reload()}})},__onQuillTextUpdate:function(fromQuillId,toTextareaId){var getActualHTMLContent=$(fromQuillId).find('.ql-editor').html();$(toTextareaId).val(getActualHTMLContent)},},});var codes=document.getElementsByClassName('prettyprint');for(var i=1;i<codes.length;i++){if(codes[i].className.indexOf('CODE-JavaScript')==-1&&codes[i].className.indexOf('CODE')!==-1){codes[i].style.display='none'}}
var buttons=document.getElementsByClassName('BUTTON');for(var i=1;i<buttons.length;i++){if(buttons[i].className.indexOf('JavaScript')==-1){buttons[i].style.display='none'}}
if($('#answer_text_area')[0]){var quill_comment=new Quill('#answer_text_area',{modules:{toolbar:[['code-block']]},placeholder:'Use the button at the top to add a code snippet, or simply paste in a URL here.',theme:'snow',});removeFormattingFromQuillEditor(quill_comment)}})